# Socket.IO

## π’΅ Socket.io κΈ°λ³Έκ°λ…

1. Socket: μ†μΌ“μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ—°κ²°μ„ λ‚νƒ€λ‚Έλ‹¤. μ†μΌ“μ„ μ‚¬μ©ν•μ—¬ μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κ³  λ°›μ„ μ μλ‹¤.
2. Server: μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ™€μ μ†μΌ“ μ—°κ²°μ„ μ„¤μ •ν•κ³  κ΄€λ¦¬ν•λ‹¤. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ΅ μ΄λ²¤νΈλ¥Ό λ°©μ¶ν•κ±°λ‚ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ΄λ²¤νΈλ¥Ό μμ‹ ν•  μ μλ‹¤.
3. Client: ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€μ μ†μΌ“ μ—°κ²°μ„ μ„¤μ •ν•κ³  κ΄€λ¦¬ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ λ™μΌν•κ², μ„λ²„λ΅ μ΄λ²¤νΈλ¥Ό λ°©μ¶ν•κ±°λ‚ μ„λ²„μ—μ„ μ΄λ²¤νΈλ¥Ό μμ‹ ν•  μ μλ‹¤.

## π’΅ Socket.io νΈλν”½ κ²©λ¦¬ κµ¬λ¶„

1. Event: μ΄λ²¤νΈλ” μ†μΌ“ μ—°κ²°μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„μ μ „μ†΅λ λ©”μ„Έμ§€μ΄λ‹¤. μ΄λ¦„μ€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ™μΌν•κ² μ„ μ–Έν•΄μ•Όν•λ‹¤. (JSON, λ¬Έμμ—΄, μ΄μ§„ λ“± λ¨λ“  ν•μ‹μ λ°μ΄ν„° ν¬ν•¨ κ°€λ¥)
2. Namespace: λ„¤μ„ μ¤νμ΄μ¤λ” ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„μ λ³„λ„μ ν†µμ‹  μ±„λ„μ΄λ‹¤. λ‹¨μΌ μ„λ²„μ—μ„ μ—¬λ¬ λ„¤μ„ μ¤νμ΄μ¤λ¥Ό μ‘μ„±ν•  μ μμΌλ©° ν΄λΌμ΄μ–ΈνΈλ” νΉμ • λ„¤μ„ μ¤νμ΄μ¤μ— μ—°κ²°ν•μ—¬ ν•΄λ‹Ή λ„¤μ„ μ¤νμ΄μ¤μ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈμ—κ²λ§ μ΄λ²¤νΈλ¥Ό μμ‹ ν•κ±°λ‚ λ°©μ¶ν•  μ μλ‹¤.
3. Room: λ£Έμ€ ν•¨κ» κ²°ν•© λ μ†μΌ“ κ·Έλ£Ήμ΄λ‹¤. μ†μΌ“μ€ μ—¬λ¬ λ£Έμ— ν•©λ¥ν•κ±°λ‚ λ– λ‚  μ μλ‹¤. λ£Έμ€ μ—°κ²°λ λ¨λ“  κ³ κ°μ—κ² λ°©μ†΅ν•λ” λ€μ‹  νΉμ • ν΄λΌμ΄μ–ΈνΈ κ·Έλ£Ήμ— λ©”μ„Έμ§€λ¥Ό λ³΄λ‚΄λ” λ° μ μ©ν•λ‹¤.

## π’΅ Socket.io μ΄λ²¤νΈ μ†΅μμ‹  λ°©μ‹

1. Public: Publicμ€ μ—°κ²°λ λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² λ©”μ„Έμ§€κ°€ μ „μ†΅λλ” κ²½μ°μ΄λ‹¤. μ±„ν… λ©”μ‹μ§€μ™€ κ°™μ€ μΌλ° λ©”μ‹μ§€λ¥Ό μ—°κ²°λ λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚΄λ” λ° μ μ©ν•λ‹¤.
2. Private: νΉμ • κ³ κ°μ—κ² λ©”μ‹μ§€λ¥Ό λ³΄λ‚Ό λ•. μ•λ¦Ό λλ” κ°μΈ λ©”μ‹μ§€λ¥Ό νΉμ • ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λ‚΄λ” λ° μ μ©
3. Broadcasting: λ°μ‹ μ λ¥Ό μ μ™Έν• λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² λ©”μ‹μ§€κ°€ μ „μ†΅λλ” κ²½μ°.

## π’΅ Socket.io μ΄λ²¤νΈ μ†΅μμ‹  κ°λ…

1. Emit: ν΄λΌμ΄μ–ΈνΈ <-> μ„λ²„ κ°„μ μ΄λ²¤νΈλ¥Ό λ³΄λ‚΄λ” λ° μ‚¬μ©. λ‘ κ° μ΄μƒμ μΈμκ°€ ν•„μ” (μ΄λ²¤νΈμ΄λ¦„, λ³΄λ‚Όλ°μ΄ν„°)

```js
// (A: μ΄λ²¤νΈμ΄λ¦„, B: μ „μ†΅λ  λ°μ΄ν„°)
socket.emit('chat message', 'Hello, world!');
```

2. To: νΉμ • μ†μΌ“μ΄λ‚ λ°©μ— μ΄λ²¤νΈλ¥Ό λ°©μ¶ν•λ” λ° μ‚¬μ©. ν•λ‚μ μΈμ ν•„μ” (μ΄λ²¤νΈκ°€ μ „μ†΅λ  μ†μΌ“ID)

```js
// to λ©”μ†λ“λ” μ΄λ²¤νΈλ¥Ό λ³΄λ‚Ό μ†μΌ“ IDλ¥Ό μ§€μ •ν•λ” λ° μ‚¬μ©
io.to('12345').emit('chat message', 'Hello, world!');
```

3. On: ν΄λΌμ΄μ–ΈνΈ λλ” μ„λ²„μ—μ„ μ΄λ²¤νΈμ— λ€ν• λ¦¬μ¤λ„λ¥Ό λ“±λ΅ν•λ”λ° μ‚¬μ©. λ‘ κ° μ΄μƒμ μΈμ ν•„μ”(μ΄λ²¤νΈμ΄λ¦„, μ½λ°±ν•¨μ)

```js
// (A: μ΄λ²¤νΈμ΄λ¦„, B: μ΄λ²¤νΈκ°€ μμ‹ λ  λ• νΈμ¶ν•λ” μ½λ°±ν•¨μ-λ°μ΄ν„°)
socket.on('chat message', (message) => {
  console.log(`Received message: ${message}`);
});
```

4. Of: μμ²΄ μ†μΌ“ λ° μ΄λ²¤νΈ μ„ΈνΈλ΅ μƒ λ„¤μ„ μ¤νμ΄μ¤λ¥Ό λ§λ“λ” λ° μ‚¬μ©. ν•λ‚μ μΈμ ν•„μ”(λ„¤μ„ μ¤νμ΄μ¤μ μ΄λ¦„)

```js
// of λ©”μ†λ“λ” μƒλ΅μ΄ λ„¤μ„μ¤νμ΄μ¤λ¥Ό λ§λ“λ” λ° μ‚¬μ©
const chatNamespace = io.of('./chat');
```

## π‘‰ Socket.io μ‘λ™λ°©μ‹

Socket.IOλ” ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„μ WebSocket μ—°κ²°μ„ μ„¤μ •ν•μ—¬ μ‘λ™ν•λ‹¤.

- μ„λ²„λ” λ“¤μ–΄μ¤λ” μ—°κ²°μ„ ν™•μΈν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ λ°©μ¶ν•λ” μ΄λ²¤νΈλ¥Ό μ²λ¦¬ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ—°κ²°ν•κ³  μ΄λ²¤νΈλ¥Ό λ°©μ¶ν•κ±°λ‚ μ΄λ²¤νΈλ¥Ό ν™•μΈν•  μ μλ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μ΄λ²¤νΈλ¥Ό λ°©μ¶ν•λ©΄ μ„λ²„λ” μ΄λ²¤νΈλ¥Ό μμ‹ ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ΅ μ‘λ‹µμ„ λ‹¤μ‹ λ³΄λ‚΄κ±°λ‚ λ™μΌν• λ„¤μ„μ¤νμ΄μ¤ λλ” λ°©μ— μλ” λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈλ΅ μ΄λ²¤νΈλ¥Ό λΈλ΅λ“μΊμ¤νΈ ν•  μ μλ‹¤.

## π‘‰ Socket.IO - client

### 1. μ„¤μΉ

```js
npm install socket.io-client
```

### 2. The Socket instance (client-side)

μ†μΌ“μ΄ ν„μ¬ μ„λ²„μ™€ μ—°κ²°λμ–΄μλ”μ§€ μ—¬λ¶€

```js
socket.on('connect', () => {
  console.log(socket.connected); // true
});
socket.on('disconnect', () => {
  console.log(socket.connected); // false
});
```
