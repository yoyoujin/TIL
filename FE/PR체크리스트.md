## Intro

프론트엔드 풀리퀘스트(PR) 에는 종종 지저분한 버그, 신경질적인 반응, 시간낭비를 초래할 수 있는 실수가 포함된다. 하지만 7가지의 사소하지만 중요한 규칙 목록을 따르면 이러한 실수를 피할 수 있다!

PR을 생성하기 전 확인해야할 사항을 알아보자.

## 1. 번들 크기 최소화

프로젝트 크기가 클수록

→ 브라우저에 표시하는 데 필요한 리소스를 다운받는 데 시간이 오래 걸린다.

→ 페이지 로딩 속도가 느려진다.

→ 이런 것들을 경험한 사용자들은 재방문할 가능성이 낮아진다. 👀

- 모바일 기기를 통해 탐색하거나, 네트워크에 문제가 있는 경우 프로젝트 크기를 적당히 유지하는 것이 특히 중요하다.

따라서 번들 크기가 통제되지 않고 증가하면 문제가 될 수 있다.

three shaking, lazy loading, 사용하지 않는 종속성 제거 등

번들 크기를 작게 만드는 수많은 방법들이 존재한다.

하지만 이 글에서는 PR에서 라이브러리와 이미지를 처리하는 등 즉각적으로

효과를 볼 수 있는 몇가지 간단한 변경사항에 대해 고려한다.

[💡 웹 개발에서 크기가 중요한 이유](https://www.keycdn.com/support/the-growth-of-web-page-size)

### 📍 더 작은 라이브러리 사용하기

- 설치하는 패키지의 크기에 주의를 기울이고,
- 설치 시 전체 번들 크기가 어떻게 증가하는지 기록해두는 것이 좋다.
  → 전체 번들 크기는 어떻게 측정할까?

<aside>
💡 [Size Limit](https://evilmartians.com/opensource/size-limit)

라이브러리를 추가한 후 프로젝트의 번들 크기가 어떻게 영향을 받는지 보여주는

도구를 사용하면 이 작업을 쉽게 수행할 수 있다 🙂

브라우저에서 코드를 다운로드하고 실행하는 데 걸리는 시간도 측정할 수 있다.

</aside>

<aside>
💡 [Bundlephobia](https://bundlephobia.com/)

- npm 패키지의 크기를 확인하고 애플리케이션 성능에 미치는 영향을 분석
- 단순히 특정 라이브러리의 크기를 표시하는 것 외에도
  라이브러리 구성에 대한 종속성 크기 효과,
  npm 에서 다운로드 시간 등 다른 유용한 개발 정보도 제공

</aside>

### 📍최적화된 이미지 사용하기

사진과 아이콘은 사이트 전체 리소스의 상당 부분을 차지한다.

따라서 이미지 크기가 작으면, 프로젝트 전체 크기에 영향을 미칠 수 있다.

실제로 최적화되지 않은 이미지를 렌더링하는데 50초 이상 걸리는 등

모바일에서 성능이 매우 나쁘게 나타나기도 한다.

따라서 최적화된 이미지를 사용하는 것은 성능에 매우 중요하며,

Squoosh 같은 이미지 크기를 암축하고 줄여주는 웹앱 같은 것을 사용하면 좋다.

- WebP 및 AVIF와 같은 새로운 형식의 성능 > PNG
- 라이트하우스를 사용해서 TBT 지표 확인하기 (Total Blocking Time)
  → 이미지에서 크게 개선된 총 차단 시간

## 2. 사용하지 않는 dependency 제거하기

- 새로운 기능을 구현하는 과정에서 여러 패키지를 추가한 경우
  → PR에 모든 패키지가 정말 필요한지 확인해보자.
- 쓸모 없는 종속성은 프로젝트 크기를 늘리고 설치 속도를 늦춘다.

<aside>
💡 [depcheck](https://www.npmjs.com/package/depcheck)

프로젝트에 불필요한 종속성이 있는지 확인하는 유용한 도구
프로젝트의 종속성을 분석하여 사용되지 않는 목록을 제공한다.

</aside>

## 3. 접근성 지원

- 모든 사용자가 콘텐츠와 기능에 접근할 수 있도록 하는 것은 말할 필요도 없이 중요하다.
- 따라서 이를 개발 과정에서도 반드시 염두해야한다.
- 디지털 접근성(a11y) 이라는 주제는 매우 광범위하고, 더 좋은 UX를 위한 다양한 접근방식이 있다.

### 📍 키보드 접근성 보장

- 새로운 기능이 포함된 PR을 열기 전 간단한 접근성 테스트를 수행하기
- 키보드 만으로도 기능을 사용할 수 있어야한다.
  → 이는 마우스를 사용하지 않는 사용자에게 매우 중요하다!

### 📍미디어 콘텐츠에 동반 텍스트 제공

- 페이지에 단순 장식용 이미지가 아닌, 의미가 있는 이미지의 경우 화면 리더를 이용하는 사람들을 위해 콘텐츠를 보다 더 잘 이해할 수 있도록 이미지를 설명하는 간결한 대체 텍스트 제공하기

```jsx
-(<img src='images/contrast-comparison.jpg' alt='Contrast Comparison' />) +
(
  <img
    src='images/contrast-comparison.jpg'
    alt='On the left, there is a demonstration of low color contrast which makes words hard to read. On the right, higher color contrast makes the text easier to read.'
  />
);
```

### 📍 색상 대비가 높은 읽기 쉬운 글꼴 사용

- 사용자 정의 글꼴을 사용할 경우 글꼴이 명확하기 읽히는지 확인하기
- 글꼴 색 구성표를 염두하고 대비가 높고 뚜렷한 값을 선택하기

💡 [더 자세한 접근성에 대하여](https://evilmartians.com/chronicles/accessible-design-from-the-get-go)

## 4. 시맨틱 마크업 사용

- 시맨틱 HTML은 화면 리더가 페이지를 더 잘 해석하기 때문에 사이트의 접근성을 향상 시키는 방법 중 하나
- 검색 엔진이 해당 페이지의 콘텐츠와 구조를 더 효과적으로 인식하는 데 도움이 되어, 검색 순위를 높일 수 있다.

<aside>
💡 유용한 체크리스트

[로그인 및 가입 양식을 위한 11가지 HTML 모범사례](https://evilmartians.com/chronicles/html-best-practices-for-login-and-signup-forms)
[HTML의 시맨틱을 더욱 개선하기](https://web.dev/learn/html/semantic-html/)

</aside>

## 5. 불필요한 리렌더링 방지

리액트를 웹개발을 하다 보면 정말 필연적으로 리렌더링이 발생한다.

상태가 변경됨에 따라 UI를 업데이트 하는 프로세스이기때문이다.

→ 상태 업데이트는 보통 웹페이지가 상호작용할 때 OR HTTP 요청을 통해 데이터를 수신할 때 발생한다.

하지만, 때로는 쓸모없는 리렌더링이 발생할 수 있다.

무한루프, 지저분한 애플리케이션 아키텍처로 인해 발생하거나, 단순 오류로 발생할 수 있다.

이러한 경우 사용자가 인터페이스와 상호작용할 때 눈에 띄는 지연이 발생하는 것을 초래할 수 있다.

💡 브라우저에서 리렌더링 되는 횟수 확인하기

- 크롬 개발자 도구의 `렌더링` 탭에서 `페인트 깜빡임` 을 활성화
- 이 옵션은 페이지의 섹션이 렌더링 될 때마다 편리한 시각화를 제공한다.
- 따라서 리렌더링을 평가하는데 매우 편리하다 !

💡 [리액트 hooks를 사용하면 성능에 부정적인 영향을 미치는 경우](https://kentcdodds.com/blog/usememo-and-usecallback)

💡 [리액트에서 리렌더링이 발생하는 이유와 불필요한 리렌더링을 피하는 방법](https://www.joshwcomeau.com/react/why-react-re-renders/)

💡 [useMemo와 useCallback 메모화 프로세스에 대한 완벽한 설명](https://www.joshwcomeau.com/react/usememo-and-usecallback/)
